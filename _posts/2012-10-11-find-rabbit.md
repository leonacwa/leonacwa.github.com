---
layout: post
title: FZU 2093 寻找兔子(建图广搜)
category : acmicpc 
tags : [graph, acmicpc]
---

[FZU 2093 寻找兔子](http://acm.fzu.edu.cn/problem.php?pid=2093)  

首先看数据，1 <= N <= 15 ,1 <= M <= 100 ，可能可以用暴力做。  

M是边的数量，边<u, v>表示u和v互通，在一秒内能从u转移到v或者v转移到u。  

我们用一个15位的整数s表示兔子可能在那些点，比如s的第0位二进制数位1表示兔子可能在1号点上，以此类推。  

对于一个状态s，我们查询点a和b，如果兔子在a或b，则查询结束，不在的话，就继续查询，但是兔子也会跑了，因为兔子在s状态内除a和b的其他点，那么过一秒后，兔子通过一些路径到达其他点，这样又出现了一个新的状态s2，又枚举s2中查询哪两个点，这样又有新的状态，当兔子走投无路，或者当剩下兔子可能在的点少于等于3个，那么查一次就能知道兔子在哪里了。如果不管怎么走都走不到点数到少于等于3的情况，那么答案就是-1。可以根据状态的转移关系建图，建好图后就是一个简单的bfs，不走已经出现的过的状态。  

#### 建图注意：  
* 建图时不能有自环，这种查询走法必然无解。  
* 以查询两点，并状态转移，可能又回到以前状态，这种情况是无解的，但是也可能可能走不回之前的出现的状态，那么这样的话，就会使得往下查询走的时候状态内点的数量减少，从而得解。  

* 建图点的数量：明显最多2^15个点。  
* 建图边的数量：这个我没想过怎么证明，用了一个自己觉得是极限的数据测试了一下，发现都没有超过2^20，自己个人感觉这样建图边也不会太多，因为不应该存在很多那种每次状态转移，只减少了一个点。(__这一点我也不太明白，望各路神牛求证__)。  

_某神牛的代码，我是跟人家要代码看的_  
~~o(>_<)o ~~
